<div class="list-container">

  <app-sidenav (click)="contentMove=!contentMove" [class.expanded]="contentMove"></app-sidenav>
  <div class="main-content">
    <nav class="navbar">
      <span>Welcome Admin</span>
      <form class="form-inline">
        <input
          type="search"
          placeholder="Search"
          aria-label="Search"
          name="searchtext"
          [(ngModel)]="searchtext"
          style="border-radius: 25px; margin-right: 10px; margin-bottom: 2px;">
        <i class="bi bi-search" style="font-size: 25px;"></i>
      </form>
    </nav>
    <div class="right">
      <button class="adduser" routerLink="/adddestination"><i class="bi bi-person-plus"> add a new destination</i></button>
    </div>
    <div class="parent" style="margin-right: 10px;">
      <table >
        <thead>
        <th>Identifiant</th>
        <th>Image</th>
        <th>Lieu</th>
        <th>Date de debut</th>
        <th>Date de fin</th>
        <th>Type de voyage</th>
        <th>Nombre de places</th>
        <th>Prix</th>
        <th>delete</th>
        <th>update</th>
        <th>Create offer</th>
        </thead>
        <tbody>
        <tr *ngFor="let des of destinations|filter:searchtext ">

          <td>{{des.id}}</td>
          <td><img class="image-box" [src]="'http://localhost:8080/images/' + des.image"   alt="..."></td>
          <td>{{des.lieu}}</td>
          <td>{{des.dateDebut}}</td>
          <td>{{des.dateFin}}</td>
          <td>{{des.typeVoyage}}</td>
          <td>{{des.nombrePlace}}</td>
          <td>{{des.prix}}</td>
          <td><button class="action-button"><i class="bi bi-trash" (click)="openModal(confirmModal,des.id)"></i></button></td>
          <td><button class="action-button" (click)="navigateToUpdate(des.id)"><i class="bi bi-pencil-square"></i></button></td>
          <td><button class="action-button" (click)="addOffre(des.id)"><i class="bi bi-patch-plus"></i></button></td>



<!--          <td><button class="action-button" ><i class="bi bi-pencil-square" (click)="openUpdateModal(p.productId,updateModal)"></i></button></td>-->
        </tr>
        </tbody>
      </table>
    </div>



  </div>




</div>





<ng-template #confirmModal>
  <div class="modal-body">
    <h4>Are you sure you want to proceed?</h4>
    <div class="d-flex justify-content-end" style="margin-bottom: 10px;">
      <button class="btn btn-danger" style="margin-right: 10px;" (click)="confirmAction()" >Yes, Proceed</button>
      <button class="btn btn-secondary" (click)="cancelAction()">Cancel</button>
    </div>
  </div>
</ng-template>


